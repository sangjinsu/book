# Clean Architecture

## 02 프로그래밍 패러다임

### 3장 패러다임 개요

##### 구조적 프로그래밍

최초로 적용된 패러다임이다

<u>구조적 프로그래밍은 제어흐름의 직접적인 전환에 대해 규칙을 부과한다</u>

##### 객체 지향 프로그래밍

<u>객체지향 프로그래밍은 제어흐름의 간접적인 전환에 대해 규칙을 부과한다</u>

##### 함수형 프로그래밍

<u>함수형 프로그래밍은 할당문에 대해 규칙을 부과한다</u>

### 4장 구조적 프로그래밍

구조적 프로그래밍은 모듈을 기능적으로 분해할 수 있다고 본다. 그러므로 대규모 시스템은 모듈과 컴포넌트로 분리될 수 있고 모듈과 컴포넌트는 입증 가능한 작은 기능으로 세분화할 수 있다. 데이크스트라는 테스트는 버그가 있음을 보여줄 뿐, 버그가 없음을 보여줄 수는 없다라고 했다. **<u>프로그램이 잘못되었음을 테스트로 증명할 수 있지만 프로그램이 맞다고 증명할 수 없다.</u>**  

구조적 프로그래밍은 프로그램을 중명 가능한 세부 기능 집합으로 재귀적으로 분해한다. 테스트를 통해서 증명 가능한 세부 기능들이 거짓인지를 증명하려고 시도한다. 테스트를 충분할만큼 통과한다면 안정적인 프로그램임을 나타낸다.

- 이러한 개념은 TDD 테스트 주도 개발에 묻어있다는 느낌을 가졌다.

### 5장 개체 지향 프로그래밍

캡슐화, 상속, 다형성이라는 세가지 개념은 개체지향의 최소한 요건이다. 

캡슐화는 데이터와 함수가 집단을 형성하여 서로 구분하며 바깥으로부터 데이터를 은닉하고 일부 함수를 외부에 노출시키는 형태이다. OO 언어에서는 접근 제한자로 이 개념을 표현한다. 하지만 캡슐화는 C 언어에서도 가능하다. C 언어에서는 데이터와 함수를 헤더 파일에 선언하고 구현 파일은 따로 작성한다. 프로그램 사용자는 구현 파일 내용을 알지 못한다. 반면 OO 언어는 헤더와 구현체를 분리하는 방식 즉, 클래스 선언과 정의를 구분하지 않아 캡슐화를 훼손하였다. 

OO 언어는 캡슐화에 의존하지 않고 강제하지도 않는다

상속은 변수와 함수를 한 유효범위에 묶어 재정의하는 일이다. OO 언어 이전에도 상속과 비슷한 기법이 사용되었지만 상속만큼 편리한 방식은 아니었다.

함수를 가리키는 포인터를 응용한 것이 다형성이다. OO 언어는 다형성을 제공하지 않지만 더 안전하고 편리하게 사용하도록 한다. 함수 포인터를 직접 사용하여 다형성을 형성하는 방식은 위험하다. 프로그래머가 함수 포인터를 다루는 데 익숙하지 않다면 버그 발생이 높고 찾기 힘들다. OO 언어는 실수할 위험을 줄인다. 이런 점에서 OO는 제어흐름을 간접적으로 전환하는 규칙을 부과한다고 결론지어 진다.

다형성은 플러그인 방식으로 각 계층 혹은 컴포넌트 별로 독립적으로 역할을 수행하도록 하는데 일조한다.

#### 의존성 역전 

다형성 이전에는 고수준 함수가 저수준 함수를 호출하는 호출 트리에서 소스 코드 의존성의 방향은 제어 흐름을 따르게 된다. 다형성은 모듈과 인터페이스 사이의 소스 코드 의존성이 제어 흐름과 반대로 설정하도록 한다. OO 언어가 다형성을 안전하고 편리하게 제공한다는 사실은 소스 코드 의존성을 어디에서든 역전 시킬 수 있다는 뜻이기도 하다. 이런 접근법으로 프로그래멍는 소스코드의 의존성 방향을 결정할 수 있다.

컴포넌트 소스 코드 변경시 해당 코드가 포함된 컴포넌트만 다시 배포하는 배포 독립성,

모듈의 독립적 배포가 가능해지면서 각 모듈을 팀별로 개발하는 개발 독립성을 가지게 된다.

*<u>**개체지향은 다형성을 이용하여 전체 시스템의 모든 소스 코드 의존성에 대해 제어 권환을 획득할 수 있도록 한다. 그리고 플러그 인 아키텍처 를 구성하고 고수준 정책을 포함한 모듈은 저수준의 세부 사항을 포함하는 모듈에 대해 독립성을 보장한다.**</u>*

### 6장 함수형 프로그래밍

함수형 언어에서 변수는 변경되지 않는다. 이러한 점은 경쟁 조건, 데드락, 동시 업데이트에서 발생할 수 있는 문제들을 우선적으로 막아준다.



### 결론

- 구조적 프로그래밍은 제어 흐름의 직접적인 전환에 부과되는 규율이다
- 개체 지향 프로그래밍은 제어흐름의 간접적인 전환에 부과되는 규율이다
- 함수형 프로그래밍은 변수 할당에 부과되는 규율이다.



<u>***소프트웨어는 급격히 발전하는 기술이 아니다. 소프트웨어, 즉 컴퓨터 프로그래밍은 순차, 분기, 반복, 참조로 구성된다. 그 이상도 그 이하도 아니다.***</u>

